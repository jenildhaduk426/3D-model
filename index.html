<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="utf-8" />
     <title>3D Model</title>
     <style>
          body,
          html {
               margin: 0;
               height: 200vh;
          }

          model-viewer {
               height: 95vh;
               width: 100%;
               position: fixed;
          }

          .text-container {
               position: fixed;
               width: 100%;
               height: 100vh;
          }

          .text-container p {
               opacity: 0;
               transform: translateY(50px);
               transition: opacity 0.8s ease-out, transform 0.8s ease-out;
               font-size: 16px;
               max-width: 20%;
               font-family: lato;
               font-weight: 600;
               color: rgb(163, 163, 163);
          }

          .text-container p span {
               color: rgb(61, 61, 61);
               font-weight: 800 !important;
          }

          .text-container p.show {
               opacity: 1;
               transform: translateY(0);
               /* Moves back into original position */
          }

          .left,
          .right {
               position: absolute;
               font-size: 20px !important;
          }

          #left1 {
               left: 150px;
               top: 70px;
          }

          #left2 {
               left: 150px;
               bottom: 70px;
          }

          #right1 {
               right: 150px;
               top: 70px;
          }

          #right2 {
               right: 150px;
               bottom: 70px;
          }
     </style>
</head>

<body>
     <main>
          <model-viewer id="model" src="model.glb" disable-zoom alt="cube" background-color="#455A64"></model-viewer>

          <div class="text-container">
               <p class="left" id="left1">Lorem ipsum dolor sit amet <span>consectetur</span> adipisicing elit. Porro
                    assumenda quas eius cum officia fuga.</p>
               <p class="left" id="left2">Lorem ipsum dolor sit amet consectetur adipisicing elit. Error velit iure sunt
                    sint, <span>exercitationem!</span> Aspernatur.</p>
               <p class="right" id="right1">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Doloribus enim
                    nemo aliquid esse quo, <span>molestiae aperiam</span> cum natus nam! Maxime veritatis nihil.</p>
               <p class="right" id="right2">Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                    <span>Doloribus</span> enim nemo aliquid esse quo, molestiae aperiam cum.
               </p>
          </div>
     </main>

     <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.1.1/model-viewer.min.js"></script>
     <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>

     <script>
          const modelViewer = document.getElementById('model');
          const left1 = document.getElementById('left1');
          const left2 = document.getElementById('left2');
          const right1 = document.getElementById('right1');
          const right2 = document.getElementById('right2');

          window.addEventListener('scroll', () => {
               const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
               const rotation = scrollTop * 0.5; // Adjust the multiplier to control rotation speed
               modelViewer.setAttribute('camera-orbit', `${rotation}deg 40deg auto`);

               // Show and hide text based on scroll position with smooth transitions
               if (scrollTop >= 0 && scrollTop < 200) {
                    left1.classList.add('show');
                    left2.classList.remove('show');
                    right1.classList.remove('show');
                    right2.classList.remove('show');
               } else if (scrollTop >= 200 && scrollTop < 400) {
                    left1.classList.remove('show');
                    left2.classList.add('show');
                    right1.classList.remove('show');
                    right2.classList.remove('show');
               } else if (scrollTop >= 400 && scrollTop < 600) {
                    left1.classList.remove('show');
                    left2.classList.remove('show');
                    right1.classList.add('show');
                    right2.classList.remove('show');
               } else if (scrollTop >= 600) {
                    left1.classList.remove('show');
                    left2.classList.remove('show');
                    right1.classList.remove('show');
                    right2.classList.add('show');
               }
          });
     </script>
</body>

</html>